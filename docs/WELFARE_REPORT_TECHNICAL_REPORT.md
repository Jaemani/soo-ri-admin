# ìˆ˜ë¦¬ìˆ˜ë¦¬ ë³µì§€ ë¦¬í¬íŠ¸ ì‹œìŠ¤í…œ ê¸°ìˆ  ë³´ê³ ì„œ

> **ë²„ì „**: 2.0  
> **ì‘ì„±ì¼**: 2025ë…„ 12ì›” 15ì¼  
> **ì‘ì„±ì**: ìˆ˜ë¦¬ìˆ˜ë¦¬ ê°œë°œíŒ€

---

## ğŸ“‹ ëª©ì°¨

1. [ì‹œìŠ¤í…œ ê°œìš”](#1-ì‹œìŠ¤í…œ-ê°œìš”)
   - 1.1 ëª©ì 
   - 1.2 í•µì‹¬ ê¸°ëŠ¥
   - 1.3 ì‚¬ìš©ì ë¶„ë¥˜
   - **1.4 v2.0 ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ë° ì„¤ê³„ ì˜ë„** â­
2. [ê¸°ìˆ  ìŠ¤íƒ](#2-ê¸°ìˆ -ìŠ¤íƒ)
3. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#3-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
4. [íŒŒì´í”„ë¼ì¸ ìƒì„¸](#4-íŒŒì´í”„ë¼ì¸-ìƒì„¸)
5. [ë°ì´í„° ëª¨ë¸](#5-ë°ì´í„°-ëª¨ë¸)
6. [ê¸°ìˆ ì  ê³ ë ¤ì‚¬í•­](#6-ê¸°ìˆ ì -ê³ ë ¤ì‚¬í•­)
7. [ë³´ì•ˆ ë° ì•ˆì •ì„±](#7-ë³´ì•ˆ-ë°-ì•ˆì •ì„±)
8. [ì„±ëŠ¥ ìµœì í™”](#8-ì„±ëŠ¥-ìµœì í™”)
9. [í–¥í›„ ê°œì„  ê³„íš](#9-í–¥í›„-ê°œì„ -ê³„íš)
10. [ë¶€ë¡](#10-ë¶€ë¡)

---

## 1. ì‹œìŠ¤í…œ ê°œìš”

### 1.1 ëª©ì 

ìˆ˜ë¦¬ìˆ˜ë¦¬ ë³µì§€ ë¦¬í¬íŠ¸ ì‹œìŠ¤í…œì€ íœ ì²´ì–´ ì‚¬ìš©ìì˜ **ì´ë™ ë°ì´í„°**ì™€ **í™œë™ ì´ë ¥**ì„ ë¶„ì„í•˜ì—¬ ê°œì¸í™”ëœ ë³µì§€ ì„œë¹„ìŠ¤ë¥¼ ì¶”ì²œí•˜ëŠ” AI ê¸°ë°˜ ì‹œìŠ¤í…œì…ë‹ˆë‹¤.

### 1.2 í•µì‹¬ ê¸°ëŠ¥

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| **GPS ë°ì´í„° ë¶„ì„** | ì„±ë™êµ¬ IoT ì„¼ì„œ APIë¥¼ í†µí•œ ì‹¤ì‹œê°„ ì£¼í–‰ê±°ë¦¬ ìˆ˜ì§‘ |
| **ì´ë™ íŒ¨í„´ ë¶„ì„** | ì£¼ê°„ ì´ë™ëŸ‰ ì¶”ì„¸ ë¶„ì„ (ì¦ê°€/ê°ì†Œ/ì•ˆì •) |
| **AI ë³µì§€ ì¶”ì²œ** | GPT-5 ê¸°ë°˜ ë§ì¶¤í˜• ë³µì§€ ì„œë¹„ìŠ¤ ì¶”ì²œ |
| **ê±´ê°•ë„ ì ìˆ˜** | íœ ì²´ì–´ ìƒíƒœ ë° ì‚¬ìš© íŒ¨í„´ ê¸°ë°˜ ì ìˆ˜ ì‚°ì • |
| **ë§ì¶¤ ì¡°ì–¸** | ë°ì´í„° ê¸°ë°˜ ì¸ê°„ì ì¸ ì¡°ì–¸ ì œê³µ |

### 1.3 ì‚¬ìš©ì ë¶„ë¥˜

```
recipientType: 'general' | 'disabled' | 'lowIncome'
```

| ìœ í˜• | ì„¤ëª… | ì¶”ì²œ ì„œë¹„ìŠ¤ íŠ¹ì„± |
|------|------|------------------|
| `general` | ì¼ë°˜ ì‚¬ìš©ì | ë²”ìš© ë³µì§€ ì„œë¹„ìŠ¤ |
| `disabled` | ì¥ì• ì¸ ë“±ë¡ ì‚¬ìš©ì | ì¥ì• ì¸ ì „ìš© ì„œë¹„ìŠ¤ í¬í•¨ |
| `lowIncome` | ì €ì†Œë“ì¸µ ì‚¬ìš©ì | ì €ì†Œë“ ì§€ì› ì„œë¹„ìŠ¤ í¬í•¨ |

### 1.4 v2.0 ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ë° ì„¤ê³„ ì˜ë„

#### ğŸ“Œ ìš”êµ¬ì‚¬í•­ 1: ì‚¬ìš©ì ë¶„ë¥˜ ì²´ê³„ ê°œì„ 

**ê¸°ì¡´ ë¬¸ì œì **:
- `ageGroup` (elder/adult/child)ê³¼ `isDisability` (boolean)ì„ ë³„ë„ë¡œ ê´€ë¦¬
- ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œ ë‚˜ì´/ì„±ë³„ ì •ë³´ë¥¼ í™œìš©í•˜ì§€ ì•ŠìŒ
- ë³µì¡í•œ ì¡°ê±´ ë¶„ê¸°ë¡œ ì½”ë“œ ìœ ì§€ë³´ìˆ˜ ì–´ë ¤ì›€

**ì„¤ê³„ ì˜ë„**:
```
ê¸°ì¡´: ageGroup + isDisability (2ê°œ í•„ë“œ, ë³µì¡í•œ ì¡°í•©)
ë³€ê²½: recipientType (1ê°œ í•„ë“œ, ëª…í™•í•œ ë¶„ë¥˜)
```

**ê°œì„  íš¨ê³¼**:
- ë‹¨ì¼ í•„ë“œë¡œ ì‚¬ìš©ì íŠ¹ì„± í‘œí˜„
- ë³µì§€ ì„œë¹„ìŠ¤ í•„í„°ë§ ë¡œì§ ë‹¨ìˆœí™”
- í–¥í›„ ìƒˆë¡œìš´ ìœ í˜• ì¶”ê°€ ìš©ì´ (ì˜ˆ: `veteran`, `multicultural`)

---

#### ğŸ“Œ ìš”êµ¬ì‚¬í•­ 2: GPS ë°ì´í„° ì—†ì„ ë•Œ ì‚¬ìš©ì ì¹œí™”ì  ë©”ì‹œì§€

**ê¸°ì¡´ ë¬¸ì œì **:
- ì„¼ì„œ IDê°€ ì—†ê±°ë‚˜ API í˜¸ì¶œ ì‹¤íŒ¨ ì‹œ "0km" í‘œì‹œ
- ì‚¬ìš©ìê°€ "ì´ë™ì„ ì•ˆ í–ˆë‹¤"ê³  ì˜¤í•´í•  ìˆ˜ ìˆìŒ

**ì„¤ê³„ ì˜ë„**:
```
ê¸°ì¡´: "0km" (ì˜¤í•´ ìœ ë°œ)
ë³€ê²½: "GPS ë°ì´í„° ìˆ˜ì§‘ì„ ìœ„í•´ ì„¼ì„œIDê°€ í•„ìš”í•©ë‹ˆë‹¤" (ëª…í™•í•œ ì•ˆë‚´)
```

**êµ¬í˜„ ë°©ì‹**:
- `hasSensorId` í”Œë˜ê·¸ ì¶”ê°€ë¡œ ì„¼ì„œ ìœ ë¬´ ì¶”ì 
- UIì—ì„œ ì¡°ê±´ë¶€ ë Œë”ë§ìœ¼ë¡œ ë©”ì‹œì§€ ë¶„ê¸°
- í†µê³„ ì¹´ë“œì—ì„œëŠ” ê°„ëµíˆ "ì„¼ì„œID í•„ìš”" í‘œì‹œ

---

#### ğŸ“Œ ìš”êµ¬ì‚¬í•­ 3: UI ë¬¸êµ¬ ê°œì„  ë° ì •ë³´ êµ¬ì¡°í™”

**ê¸°ì¡´ ë¬¸ì œì **:
- "AI ë§ì¶¤ ë³µì§€ ì¶”ì²œ"ì´ ë‘ ê³³ì—ì„œ ì¤‘ë³µ ì‚¬ìš©
- ì„¹ì…˜ ê°„ ì—­í•  êµ¬ë¶„ì´ ë¶ˆëª…í™•

**ì„¤ê³„ ì˜ë„**:

| ê¸°ì¡´ | ë³€ê²½ | ì—­í•  |
|------|------|------|
| AI ì¢…í•© í‰ê°€ | **AI ë³´ê³ ì„œ í‰ê°€** | ì „ì²´ ë¦¬í¬íŠ¸ í—¤ë” |
| AI ë§ì¶¤ ë³µì§€ ì¶”ì²œ | **AI ë³´ê³ ì„œ í‰ê°€** | ì´ë™ íŒ¨í„´ ë¶„ì„ ê²°ê³¼ |
| ë§ì¶¤ ë³µì§€ ì„œë¹„ìŠ¤ | **AI ë§ì¶¤ ë³µì§€ ì¶”ì²œ** | ì¶”ì²œ ì„œë¹„ìŠ¤ ëª©ë¡ |

**ê°œì„  íš¨ê³¼**:
- ì„¹ì…˜ë³„ ì—­í•  ëª…í™•í™”
- ì‚¬ìš©ìê°€ ì •ë³´ íë¦„ì„ ì§ê´€ì ìœ¼ë¡œ ì´í•´

---

#### ğŸ“Œ ìš”êµ¬ì‚¬í•­ 4: AI ì¡°ì–¸ ì„¹ì…˜ ì¶”ê°€

**ê¸°ì¡´ ë¬¸ì œì **:
- AI ë¶„ì„ ê²°ê³¼ê°€ ë‹¨ìˆœ ìš”ì•½ì— ê·¸ì¹¨
- ì‚¬ìš©ìì—ê²Œ ì‹¤ì§ˆì ì¸ í–‰ë™ ì§€ì¹¨ ë¶€ì¬

**ì„¤ê³„ ì˜ë„**:
```
"ì‚¬ìš©ìì˜ ì£¼ê°„ ì´ë™ ê±°ë¦¬ëŠ” ì•½ 17.93kmë¡œ..."  â† ê¸°ì¡´ (ì •ë³´ ì „ë‹¬)
                    +
"ìê°€ì ê²€ì„ ì‹¤í–‰í•˜ë©´ ë¯¸ë¦¬ ê³ ì¥ì„ ê°ì§€í•˜ì—¬..."  â† ì¶”ê°€ (í–‰ë™ ìœ ë„)
```

**ì¡°ì–¸ ìƒì„± ê¸°ì¤€**:
| ë°ì´í„° ìƒíƒœ | ì¡°ì–¸ ì˜ˆì‹œ |
|-------------|-----------|
| ìê°€ì ê²€ 0íšŒ | "ìê°€ì ê²€ì„ ì‹¤í–‰í•˜ë©´ ë¯¸ë¦¬ ê³ ì¥ì„ ê°ì§€í•˜ì—¬ ì‚¬ê³ ë¥¼ ì˜ˆë°©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤" |
| ì´ë™ëŸ‰ ê°ì†Œ | "ì™¸ë¶€ í™œë™ì´ ì¤„ì–´ë“¤ì—ˆìŠµë‹ˆë‹¤. ê±´ê°• ìƒíƒœë¥¼ í™•ì¸í•´ë³´ì„¸ìš”" |
| ìˆ˜ë¦¬ ì´ë ¥ å¤š | "ì •ê¸°ì ì¸ ì ê²€ìœ¼ë¡œ ìˆ˜ë¦¬ ë¹ˆë„ë¥¼ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤" |

**UI ë””ìì¸**:
- ğŸ’¡ ì•„ì´ì½˜ + ë…¸ë€ìƒ‰ ë°°ê²½ ì¹´ë“œ
- ë¶„ì„ ê²°ê³¼ ë°”ë¡œ ì•„ë˜ ë°°ì¹˜
- ë”°ëœ»í•˜ê³  ì¸ê°„ì ì¸ í†¤ ìœ ì§€

---

#### ğŸ“Œ ìš”êµ¬ì‚¬í•­ 5: GPT-5 ëª¨ë¸ ì—…ê·¸ë ˆì´ë“œ

**ê¸°ì¡´ ë¬¸ì œì **:
- GPT-4o ì‚¬ìš© ì¤‘
- ë³µì¡í•œ ë§¥ë½ì—ì„œ ì¶”ë¡  í’ˆì§ˆ í•œê³„

**ì„¤ê³„ ì˜ë„**:
```
ê¸°ì¡´: gpt-4o-2024-11-20
ë³€ê²½: gpt-5
```

**ì—…ê·¸ë ˆì´ë“œ ì´ìœ **:
1. **í–¥ìƒëœ ì¶”ë¡  ëŠ¥ë ¥**: ì‚¬ìš©ì ìƒí™©ê³¼ ì„œë¹„ìŠ¤ ë§¤ì¹­ ì •í™•ë„ í–¥ìƒ
2. **ë” ë‚˜ì€ JSON ì¶œë ¥**: êµ¬ì¡°í™”ëœ ì‘ë‹µ ì•ˆì •ì„± ì¦ê°€
3. **ë¹„ìš© íš¨ìœ¨**: í† í°ë‹¹ ë¹„ìš© ëŒ€ë¹„ í’ˆì§ˆ ê°œì„ 
4. **ì¡°ì–¸ í’ˆì§ˆ**: ë” ìì—°ìŠ¤ëŸ½ê³  ë§¥ë½ì— ë§ëŠ” ì¡°ì–¸ ìƒì„±

**OpenAI ê°€ê²© ì°¸ê³ ** (2025ë…„ 12ì›” ê¸°ì¤€):
| ëª¨ë¸ | Input (1M tokens) | Output (1M tokens) |
|------|-------------------|---------------------|
| gpt-4o | $2.50 | $10.00 |
| gpt-5 | $1.25 | $10.00 |

---

## 2. ê¸°ìˆ  ìŠ¤íƒ

### 2.1 ë°±ì—”ë“œ

| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| **Node.js** | 18.x | ëŸ°íƒ€ì„ í™˜ê²½ |
| **Firebase Cloud Functions** | Gen 2 | ì„œë²„ë¦¬ìŠ¤ ë°±ì—”ë“œ |
| **Firebase Firestore** | - | NoSQL ë°ì´í„°ë² ì´ìŠ¤ |
| **OpenAI API** | GPT-5 | LLM ì¶”ë¡  ì—”ì§„ |
| **Axios** | 1.x | HTTP í´ë¼ì´ì–¸íŠ¸ |

### 2.2 í”„ë¡ íŠ¸ì—”ë“œ

| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| **React** | 18.x | UI í”„ë ˆì„ì›Œí¬ |
| **TypeScript** | 5.x | íƒ€ì… ì•ˆì •ì„± |
| **Vite** | 6.x | ë¹Œë“œ ë„êµ¬ |
| **styled-components** | 6.x | CSS-in-JS |
| **Emotion** | 11.x | ìŠ¤íƒ€ì¼ë§ |

### 2.3 ì™¸ë¶€ API

| API | ì œê³µì | ìš©ë„ |
|-----|--------|------|
| **ì£¼í–‰ ë°ì´í„° API** | ì„±ë™êµ¬/ìŠ¤íƒ€í”¼ì»¤ìŠ¤ | GPS ê¸°ë°˜ ì´ë™ê±°ë¦¬ ìˆ˜ì§‘ |
| **ë³µì§€ ì„œë¹„ìŠ¤ DB** | í•œêµ­ì‚¬íšŒë³´ì¥ì •ë³´ì› | ë³µì§€ ì„œë¹„ìŠ¤ ëª©ë¡ |

### 2.4 ê°œë°œ ë„êµ¬

- **ESLint** + **Prettier**: ì½”ë“œ í’ˆì§ˆ ê´€ë¦¬
- **Knip**: ë¯¸ì‚¬ìš© ì½”ë“œ íƒì§€
- **Husky** + **lint-staged**: Git í›… ìë™í™”
- **Firebase Emulator**: ë¡œì»¬ ê°œë°œ í™˜ê²½

---

## 3. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### 3.1 ì „ì²´ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Frontend (React)                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ WelfareReportâ”‚  â”‚ ViewModel  â”‚  â”‚ WelfareReportModel      â”‚  â”‚
â”‚  â”‚ PageView    â”‚â—„â”€â”¤             â”‚â—„â”€â”¤ (TypeScript Interface)  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼ HTTPS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Firebase Cloud Functions                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚                   Welfare Pipeline                           â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚â”‚
â”‚  â”‚  â”‚CSV      â”‚â”€â–¶â”‚Normalizerâ”‚â”€â–¶â”‚Candidateâ”‚â”€â–¶â”‚LLM Node â”‚        â”‚â”‚
â”‚  â”‚  â”‚Loader   â”‚  â”‚         â”‚  â”‚Filter   â”‚  â”‚(GPT-5)  â”‚        â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚â”‚
â”‚  â”‚       â”‚                          â”‚              â”‚            â”‚â”‚
â”‚  â”‚       â–¼                          â–¼              â–¼            â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚â”‚
â”‚  â”‚  â”‚User     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚GPS Data   â”‚  â”‚Firestore  â”‚      â”‚â”‚
â”‚  â”‚  â”‚Context  â”‚              â”‚Fetcher    â”‚  â”‚(Reports)  â”‚      â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     External APIs                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ì„±ë™êµ¬ GPS API       â”‚  â”‚ OpenAI GPT-5 API                â”‚  â”‚
â”‚  â”‚ (ì£¼í–‰ ë°ì´í„°)        â”‚  â”‚ (LLM ì¶”ë¡ )                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 íŒŒì´í”„ë¼ì¸ íë¦„

```
1. CSV Load â”€â”€â–¶ 2. Normalize â”€â”€â–¶ 3. User Context â”€â”€â–¶ 4. Filter â”€â”€â–¶ 5. LLM â”€â”€â–¶ 6. Save
     â”‚              â”‚                  â”‚                 â”‚            â”‚          â”‚
     â–¼              â–¼                  â–¼                 â–¼            â–¼          â–¼
  ë³µì§€ì„œë¹„ìŠ¤      íƒœê·¸ ì¶”ê°€         ì‚¬ìš©ì ì •ë³´      í›„ë³´ ì„ ë³„    AI ì¶”ë¡     Firestore
  ëª©ë¡ ë¡œë“œ      (mobility,       + GPS ë°ì´í„°     (ìƒìœ„ 10ê°œ)   + ì¡°ì–¸      ì €ì¥
               disability)
```

---

## 4. íŒŒì´í”„ë¼ì¸ ìƒì„¸

### 4.1 Node 1: CSV Loader

**íŒŒì¼**: `csvLoader.js`

ë³µì§€ ì„œë¹„ìŠ¤ ë°ì´í„°ë¥¼ CSVì—ì„œ ë¡œë“œí•©ë‹ˆë‹¤.

```javascript
// ë°ì´í„° ì†ŒìŠ¤
const CSV_PATH = './data/í•œêµ­ì‚¬íšŒë³´ì¥ì •ë³´ì›_ë³µì§€ì„œë¹„ìŠ¤ì •ë³´_20250722.csv';

// ìºì‹± ì „ëµ: Cold Start ì‹œì—ë§Œ ë¡œë“œ
let cachedServices = null;
if (!cachedServices) {
  cachedServices = loadServices().map(normalizeService);
}
```

**ìµœì í™” í¬ì¸íŠ¸**:
- ì „ì—­ ë³€ìˆ˜ ìºì‹±ìœ¼ë¡œ Cold Start ì´í›„ ì¬ë¡œë“œ ë°©ì§€
- ë©”ëª¨ë¦¬ íš¨ìœ¨ì„ ìœ„í•´ í•„ìš”í•œ í•„ë“œë§Œ ì¶”ì¶œ

### 4.2 Node 2: Normalizer

**íŒŒì¼**: `normalizer.js`

ì„œë¹„ìŠ¤ ë°ì´í„°ì— ê²€ìƒ‰ ê°€ëŠ¥í•œ íƒœê·¸ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

```javascript
const tags = {
  age: 'all',      // 'elder' | 'adult' | 'child' | 'all'
  mobility: false, // ì´ë™ ê´€ë ¨ ì„œë¹„ìŠ¤ ì—¬ë¶€
  disability: false // ì¥ì• ì¸ ì „ìš© ì—¬ë¶€
};
```

**íƒœê¹… ë¡œì§**:
| íƒœê·¸ | í‚¤ì›Œë“œ |
|------|--------|
| `mobility` | ì´ë™, êµí†µ, ì°¨ëŸ‰, íœ ì²´ì–´, ë³´í–‰, ë³´ì¥êµ¬, ë°”ìš°ì²˜íƒì‹œ, ì£¼ì°¨, íƒì‹œ |
| `disability` | ì¥ì•  |
| `age: elder` | ë…¸ì¸, ê³ ë ¹, ì–´ë¥´ì‹ , ê²½ë¡œ, ì¹˜ë§¤ |
| `age: child` | ì•„ë™, ì²­ì†Œë…„, ìë…€, ì˜ìœ ì•„, í•™ìƒ |

### 4.3 Node 3: User Context Builder

**íŒŒì¼**: `userContext.js`

ì‚¬ìš©ìì˜ ì»¨í…ìŠ¤íŠ¸ ì •ë³´ë¥¼ ìˆ˜ì§‘í•©ë‹ˆë‹¤.

```javascript
return {
  userId,
  name: userData.name,
  district: userData.supportedDistrict || '',
  recipientType, // 'general' | 'disabled' | 'lowIncome'
  hasSensorId: !!sensorId, // GPS ë°ì´í„° ìˆ˜ì§‘ ê°€ëŠ¥ ì—¬ë¶€
  stats: {
    recentRepairs: number,     // ìµœê·¼ 30ì¼ ìˆ˜ë¦¬ íšŸìˆ˜
    recentSelfChecks: number,  // ìµœê·¼ 30ì¼ ìê°€ì ê²€ íšŸìˆ˜
    weeklyKm: number,          // ìµœê·¼ 7ì¼ ì£¼í–‰ê±°ë¦¬
    trend: 'increase' | 'decrease' | 'stable',
    supportedDistrict: string
  }
};
```

**ë°ì´í„° ì†ŒìŠ¤**:
| ë°ì´í„° | ì†ŒìŠ¤ | ì¡°íšŒ ë°©ì‹ |
|--------|------|-----------|
| ì‚¬ìš©ì ì •ë³´ | Firestore `users` | `firebaseUid` ì¿¼ë¦¬ |
| ìˆ˜ë¦¬ ì´ë ¥ | Firestore `repairs` | `vehicleId` + 30ì¼ í•„í„° |
| ìê°€ì ê²€ ì´ë ¥ | Firestore `selfChecks` | `vehicleId` + 30ì¼ í•„í„° |
| GPS ë°ì´í„° | ì„±ë™êµ¬ API | `sensorId` + 7ì¼ ë³‘ë ¬ ì¡°íšŒ |

### 4.4 Node 4: GPS Data Fetcher

**íŒŒì¼**: `gpsDataFetcher.js`

ì„±ë™êµ¬ IoT ì„¼ì„œ APIë¥¼ í†µí•´ ì£¼í–‰ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•©ë‹ˆë‹¤.

```javascript
// API ì—”ë“œí¬ì¸íŠ¸
const GPS_API_URL = 'https://test-web2.star-pickers.com/v2/vehicle/mileage';

// ìš”ì²­ í˜•ì‹
{
  "RD_DT": "2025-12-06",  // ì¡°íšŒ ë‚ ì§œ
  "SNR_ID": "sensor123"   // ì„¼ì„œ ID
}

// ì‘ë‹µ í˜•ì‹
{
  "STATUS": "SUCCESS",
  "RESULT": [
    { "SNR_ID": "sensor123", "TOT_DTN": 2.5, "RD_DT": "2025-12-06" }
  ]
}
```

**ì¶”ì„¸ ë¶„ì„ ì•Œê³ ë¦¬ì¦˜**:
```javascript
function analyzeTrend(data) {
  // ì „ë°˜ë¶€(ì˜¤ë˜ëœ) vs í›„ë°˜ë¶€(ìµœê·¼) í‰ê·  ë¹„êµ
  const avgFirst = getAvg(firstHalf);
  const avgSecond = getAvg(secondHalf);

  // 20% ì´ìƒ ì°¨ì´ë‚˜ë©´ ì¶”ì„¸ ë°˜ì˜
  if (avgSecond > avgFirst * 1.2) return 'increase';
  if (avgSecond < avgFirst * 0.8) return 'decrease';
  return 'stable';
}
```

### 4.5 Node 5: Candidate Filter

**íŒŒì¼**: `candidateFilter.js`

Rule-based ë¡œì§ìœ¼ë¡œ LLM ì…ë ¥ ì „ í›„ë³´ë¥¼ í•„í„°ë§í•©ë‹ˆë‹¤.

```javascript
// recipientType ê¸°ë°˜ í•„í„°ë§
if (tags.disability && userContext.recipientType !== 'disabled') return false;
if (tags.lowIncome && userContext.recipientType !== 'lowIncome') return false;

// ì •ë ¬: mobility ìš°ì„ , ìµœì‹  ì—°ë„ ìš°ì„ 
// LLM Token ì œí•œì„ ìœ„í•´ ìƒìœ„ 10ê°œë§Œ ì „ë‹¬
return filtered.slice(0, 10);
```

**í•„í„°ë§ ì´ìœ **:
- LLM í† í° ë¹„ìš© ì ˆê°
- ë¶€ì ì ˆí•œ ì„œë¹„ìŠ¤ ì‚¬ì „ ì°¨ë‹¨
- ì‘ë‹µ í’ˆì§ˆ í–¥ìƒ

### 4.6 Node 6: LLM Node (GPT-5)

**íŒŒì¼**: `llmNode.js`

OpenAI GPT-5ë¥¼ ì‚¬ìš©í•˜ì—¬ ìµœì¢… ë¦¬í¬íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

```javascript
const completion = await client.chat.completions.create({
  model: "gpt-5",
  messages: [
    { role: "system", content: SYSTEM_PROMPT },
    { role: "user", content: JSON.stringify(inputData) }
  ],
  response_format: { type: "json_object" },
  temperature: 0.3
});
```

**í”„ë¡¬í”„íŠ¸ ì„¤ê³„ ì›ì¹™**:
1. **ì—­í•  ì œí•œ**: LLMì€ "ê²°ì •ì"ê°€ ì•„ë‹Œ "ì„¤ëª…ì"
2. **ì¶œë ¥ ì œí•œ**: JSONë§Œ ë°˜í™˜, ë§ˆí¬ë‹¤ìš´/ì£¼ì„ ê¸ˆì§€
3. **ì„œë¹„ìŠ¤ ì œí•œ**: `candidate_services`ì— ì—†ëŠ” ì„œë¹„ìŠ¤ ì–¸ê¸‰ ê¸ˆì§€
4. **êµ¬ì¡°í™”ëœ ì¶œë ¥**: `summary`, `risk`, `advice`, `services`

**ì¶œë ¥ ìŠ¤í‚¤ë§ˆ**:
```json
{
  "summary": "ì‚¬ìš©ìì˜ ì´ë™ íŒ¨í„´ ìš”ì•½ (1-2ë¬¸ì¥)",
  "risk": "ì˜ˆì¸¡ ê°€ëŠ¥í•œ ë¦¬ìŠ¤í¬ (1ë¬¸ì¥)",
  "advice": "ì¸ê°„ì ì¸ ì¡°ì–¸ (1ë¬¸ì¥)",
  "services": [
    { "name": "ì„œë¹„ìŠ¤ëª…", "reason": "ì¶”ì²œ ì´ìœ " }
  ]
}
```

---

## 5. ë°ì´í„° ëª¨ë¸

### 5.1 Firestore ìŠ¤í‚¤ë§ˆ

#### `users` ì»¬ë ‰ì…˜

```typescript
interface User {
  name: string
  firebaseUid: string
  phoneNumber: string           // "01012345678"
  role: 'user' | 'admin' | 'repairer' | 'guardian'
  recipientType: 'general' | 'disabled' | 'lowIncome'
  supportedDistrict?: string    // "ì„±ë™êµ¬"
  sensorId?: string             // GPS ì„¼ì„œ ID
  guardianIds?: string[]
}
```

#### `user_welfare_reports` ì»¬ë ‰ì…˜

```typescript
interface WelfareReport {
  userId: string
  summary: string
  risk: string
  advice: string
  services: {
    name: string
    reason: string
    link?: string
  }[]
  metadata: {
    weeklyKm: number
    trend: 'increase' | 'decrease' | 'stable'
    recentRepairs: number
    recentSelfChecks: number
    supportedDistrict: string
  }
  isFallback: boolean
  createdAt: Timestamp
  period: {
    start: Timestamp
    end: Timestamp
  }
}
```

### 5.2 í”„ë¡ íŠ¸ì—”ë“œ ëª¨ë¸

```typescript
// src/domain/models/welfare_report_model.ts
export class WelfareReportModel implements WelfareReport {
  readonly userId: string
  readonly summary: string
  readonly risk: string
  readonly advice: string
  readonly services: { name: string; reason: string; link?: string }[]
  readonly metadata: {
    weeklyKm: number
    trend: string
    recentRepairs: number
    recentSelfChecks: number
    supportedDistrict: string
  }
  readonly isFallback: boolean
  readonly createdAt: Date

  // Computed properties
  get healthScore(): number { ... }
  get trendDisplayString(): string { ... }
  get trendDescription(): string { ... }
  get createdAtDisplayString(): string { ... }
}
```

---

## 6. ê¸°ìˆ ì  ê³ ë ¤ì‚¬í•­

### 6.1 LLM ì•ˆì •ì„±

| ë¬¸ì œ | í•´ê²°ì±… |
|------|--------|
| LLM ì‘ë‹µ ì‹¤íŒ¨ | Fallback ë¦¬í¬íŠ¸ ìƒì„± (deterministic) |
| ì˜ëª»ëœ JSON í˜•ì‹ | `response_format: { type: "json_object" }` ê°•ì œ |
| í™˜ê°(Hallucination) | í›„ì²˜ë¦¬ì—ì„œ `candidate_services` ê²€ì¦ |
| í† í° ë¹„ìš© | ìƒìœ„ 10ê°œ ì„œë¹„ìŠ¤ë§Œ ì „ë‹¬ |

### 6.2 GPS ë°ì´í„° ì²˜ë¦¬

| ë¬¸ì œ | í•´ê²°ì±… |
|------|--------|
| ì„¼ì„œ ID ì—†ìŒ | `hasSensorId` í”Œë˜ê·¸ë¡œ UI ë¶„ê¸° |
| API ì‹¤íŒ¨ | ë¹ˆ ë°°ì—´ ë°˜í™˜, Fallback ë°ì´í„° ì‚¬ìš© |
| ë°ì´í„° ë¶ˆì¼ì¹˜ | ë¬¸ìì—´ í˜•ë³€í™˜ + trimìœ¼ë¡œ ì•ˆì „í•œ ë¹„êµ |
| ë‚ ì§œ ë²”ìœ„ | 7ì¼ ë³‘ë ¬ ì¡°íšŒë¡œ ì„±ëŠ¥ ìµœì í™” |

### 6.3 íƒ€ì… ì•ˆì •ì„±

```typescript
// ESLint ê·œì¹™ ì¤€ìˆ˜
// - @typescript-eslint/no-unnecessary-condition
// - @typescript-eslint/restrict-template-expressions
// - @typescript-eslint/prefer-optional-chain

// ì˜ˆì‹œ: í™˜ê²½ë³€ìˆ˜ Fallback
const getApiUrl = (envUrl: string | undefined): string => {
  // eslint-disable-next-line @typescript-eslint/prefer-optional-chain
  if (envUrl && envUrl.includes('cloudfunctions.net')) {
    return envUrl
  }
  return 'https://asia-northeast3-soo-ri.cloudfunctions.net/api'
}
```

### 6.4 í™˜ê²½ë³€ìˆ˜ ê´€ë¦¬

| ë³€ìˆ˜ | ìš©ë„ | Fallback |
|------|------|----------|
| `VITE_SOORI_BASE_URL` | API ì—”ë“œí¬ì¸íŠ¸ | Cloud Functions URL |
| `OPENAI_API_KEY` | GPT-5 ì¸ì¦ | ì—†ìŒ (í•„ìˆ˜) |

**GitHub Actions ë°°í¬ ì‹œ ì£¼ì˜ì‚¬í•­**:
- ViteëŠ” ë¹Œë“œ íƒ€ì„ì— í™˜ê²½ë³€ìˆ˜ë¥¼ ë²ˆë“¤ì— í•˜ë“œì½”ë”©
- Secrets ê°’ì´ ì˜ëª»ë˜ë©´ ëŸ°íƒ€ì„ì— ìˆ˜ì • ë¶ˆê°€
- ì½”ë“œ ë ˆë²¨ Fallbackìœ¼ë¡œ ì•ˆì •ì„± í™•ë³´

---

## 7. ë³´ì•ˆ ë° ì•ˆì •ì„±

### 7.1 API ë³´ì•ˆ

- **OpenAI API Key**: Firebase Functions í™˜ê²½ë³€ìˆ˜ë¡œ ê´€ë¦¬
- **GPS API**: ë‚´ë¶€ë§ ë˜ëŠ” ì¸ì¦ëœ ìš”ì²­ë§Œ í—ˆìš©
- **Firestore**: Firebase Security Rulesë¡œ ì ‘ê·¼ ì œì–´

### 7.2 ì—ëŸ¬ ì²˜ë¦¬

```javascript
// íŒŒì´í”„ë¼ì¸ ë ˆë²¨ ì—ëŸ¬ ì²˜ë¦¬
try {
  reportData = await generateReport(userContext, candidates);
} catch (llmError) {
  console.warn(`LLM Failed, using fallback. Reason: ${llmError.message}`);
  reportData = createFallbackReport(userContext, candidates);
}
```

### 7.3 Fallback ì „ëµ

| ì‹¤íŒ¨ ì§€ì  | Fallback ë™ì‘ |
|-----------|---------------|
| LLM í˜¸ì¶œ ì‹¤íŒ¨ | Deterministic ë¦¬í¬íŠ¸ ìƒì„± |
| GPS API ì‹¤íŒ¨ | `weeklyKm: 0`, `trend: 'stable'` |
| ì‚¬ìš©ì ì¡°íšŒ ì‹¤íŒ¨ | ê¸°ë³¸ ì‚¬ìš©ì ë°ì´í„° ì‚¬ìš© |
| í›„ë³´ ì„œë¹„ìŠ¤ ì—†ìŒ | ë¹ˆ ì„œë¹„ìŠ¤ ë¦¬ìŠ¤íŠ¸ + ê¸°ë³¸ ë©”ì‹œì§€ |

---

## 8. ì„±ëŠ¥ ìµœì í™”

### 8.1 ìºì‹± ì „ëµ

```javascript
// ì „ì—­ ë³€ìˆ˜ ìºì‹± (Cold Start ìµœì í™”)
let cachedServices = null;

exports.runWelfarePipeline = async (userId) => {
  if (!cachedServices) {
    cachedServices = loadServices().map(normalizeService);
  }
  // ...
};
```

### 8.2 ë³‘ë ¬ ì²˜ë¦¬

```javascript
// GPS ë°ì´í„° 7ì¼ì¹˜ ë³‘ë ¬ ì¡°íšŒ
const promises = [];
for (let i = 0; i < days; i++) {
  promises.push(exports.fetchDailyMileage(dateStr, sensorId));
}
const results = await Promise.all(promises);
```

### 8.3 í† í° ìµœì í™”

| ìµœì í™” | íš¨ê³¼ |
|--------|------|
| ìƒìœ„ 10ê°œ ì„œë¹„ìŠ¤ë§Œ ì „ë‹¬ | ì…ë ¥ í† í° ~70% ê°ì†Œ |
| ë¶ˆí•„ìš”í•œ í•„ë“œ ì œê±° | ì…ë ¥ í† í° ~30% ê°ì†Œ |
| `temperature: 0.3` | ì¼ê´€ëœ ì¶œë ¥, ì¬ì‹œë„ ê°ì†Œ |

---

## 9. í–¥í›„ ê°œì„  ê³„íš

### 9.1 ë‹¨ê¸° (1-2ì£¼)

| í•­ëª© | ì„¤ëª… | ìš°ì„ ìˆœìœ„ |
|------|------|----------|
| ë¦¬í¬íŠ¸ íˆìŠ¤í† ë¦¬ | ê³¼ê±° ë¦¬í¬íŠ¸ ëª©ë¡ ì¡°íšŒ | ë†’ìŒ |
| ê¸°ê°„ ì„ íƒ | ì£¼ê°„/ì›”ê°„ ë¦¬í¬íŠ¸ ì„ íƒ | ë†’ìŒ |
| í‘¸ì‹œ ì•Œë¦¼ | ìƒˆ ë¦¬í¬íŠ¸ ìƒì„± ì‹œ ì•Œë¦¼ | ì¤‘ê°„ |

### 9.2 ì¤‘ê¸° (1-2ê°œì›”)

| í•­ëª© | ì„¤ëª… | ìš°ì„ ìˆœìœ„ |
|------|------|----------|
| ë°°ì¹˜ ìƒì„± | ì „ì²´ ì‚¬ìš©ì ì¼ê´„ ë¦¬í¬íŠ¸ ìƒì„± | ë†’ìŒ |
| ì¶”ì„¸ ì‹œê°í™” | ì°¨íŠ¸ë¡œ ì´ë™ëŸ‰ ë³€í™” í‘œì‹œ | ì¤‘ê°„ |
| ì„œë¹„ìŠ¤ ë¶ë§ˆí¬ | ê´€ì‹¬ ì„œë¹„ìŠ¤ ì €ì¥ | ë‚®ìŒ |

### 9.3 ì¥ê¸° (3ê°œì›”+)

| í•­ëª© | ì„¤ëª… | ìš°ì„ ìˆœìœ„ |
|------|------|----------|
| ì˜ˆì¸¡ ëª¨ë¸ | ê³ ì¥ ì˜ˆì¸¡, ì ê²€ ì‹œê¸° ì¶”ì²œ | ë†’ìŒ |
| ë‹¤êµ­ì–´ ì§€ì› | ì˜ì–´, ì¤‘êµ­ì–´ ë¦¬í¬íŠ¸ | ì¤‘ê°„ |
| ë³´í˜¸ì ê³µìœ  | ê°€ë””ì–¸ì—ê²Œ ë¦¬í¬íŠ¸ ê³µìœ  | ì¤‘ê°„ |

### 9.4 ê¸°ìˆ  ë¶€ì±„

| í•­ëª© | í˜„ì¬ ìƒíƒœ | ê°œì„  ë°©í–¥ |
|------|-----------|-----------|
| ë‚ ì§œ í•˜ë“œì½”ë”© | ì‹œì—°ìš© `2025-12-06` ê³ ì • | ë™ì  ë‚ ì§œ ì‚¬ìš© |
| ë³µí•© ì¸ë±ìŠ¤ | í´ë¼ì´ì–¸íŠ¸ í•„í„°ë§ | Firestore ì¸ë±ìŠ¤ ìƒì„± |
| ì—ëŸ¬ ë¡œê¹… | `console.error` | êµ¬ì¡°í™”ëœ ë¡œê¹… (Cloud Logging) |
| í…ŒìŠ¤íŠ¸ | ìˆ˜ë™ í…ŒìŠ¤íŠ¸ | ìë™í™”ëœ ë‹¨ìœ„/í†µí•© í…ŒìŠ¤íŠ¸ |

---

## 10. ë¶€ë¡

### 10.1 íŒŒì¼ êµ¬ì¡°

```
functions/
â”œâ”€â”€ welfare/
â”‚   â”œâ”€â”€ pipeline.js        # ë©”ì¸ íŒŒì´í”„ë¼ì¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°
â”‚   â”œâ”€â”€ csvLoader.js       # CSV ë°ì´í„° ë¡œë”
â”‚   â”œâ”€â”€ normalizer.js      # ì„œë¹„ìŠ¤ íƒœê¹…
â”‚   â”œâ”€â”€ userContext.js     # ì‚¬ìš©ì ì»¨í…ìŠ¤íŠ¸ ë¹Œë”
â”‚   â”œâ”€â”€ candidateFilter.js # í›„ë³´ í•„í„°ë§
â”‚   â”œâ”€â”€ gpsDataFetcher.js  # GPS API ì—°ë™
â”‚   â””â”€â”€ llmNode.js         # GPT-5 ì¶”ë¡  ë…¸ë“œ
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ í•œêµ­ì‚¬íšŒë³´ì¥ì •ë³´ì›_ë³µì§€ì„œë¹„ìŠ¤ì •ë³´_20250722.csv
â”‚   â”œâ”€â”€ ì„±ë™êµ¬APIëª…ì„¸ì„œ.csv
â”‚   â””â”€â”€ ì‚¬ìš©ìì„¼ì„œì •ë³´.csv
â””â”€â”€ index.js               # Cloud Functions ì—”íŠ¸ë¦¬í¬ì¸íŠ¸

src/
â”œâ”€â”€ domain/models/
â”‚   â””â”€â”€ welfare_report_model.ts
â”œâ”€â”€ data/repositories/
â”‚   â””â”€â”€ welfare_report_repository_soori.ts
â””â”€â”€ presentation/pages/WelfareReportPage/
    â”œâ”€â”€ WelfareReportPageView.tsx
    â”œâ”€â”€ WelfareReportPageViewMobile.tsx
    â””â”€â”€ WelfareReportPageViewModel.ts
```

### 10.2 API ì—”ë“œí¬ì¸íŠ¸

| ë©”ì„œë“œ | ê²½ë¡œ | ì„¤ëª… |
|--------|------|------|
| `POST` | `/admin/welfare/generate` | ë¦¬í¬íŠ¸ ìƒì„± |
| `GET` | `/welfare/report/:userId` | ë¦¬í¬íŠ¸ ì¡°íšŒ |

### 10.3 í™˜ê²½ ì„¤ì •

```bash
# .env.example
VITE_SOORI_BASE_URL=https://asia-northeast3-soo-ri.cloudfunctions.net/api
VITE_FIREBASE_API_KEY=...
VITE_FIREBASE_AUTH_DOMAIN=...
VITE_FIREBASE_PROJECT_ID=soo-ri
```

### 10.4 ë°°í¬ ëª…ë ¹ì–´

```bash
# Functions ë°°í¬
firebase deploy --only functions:api

# í”„ë¡ íŠ¸ì—”ë“œ ë¹Œë“œ
pnpm build

# CI ê²€ì¦
pnpm ci:all  # type + lint + format + knip + build
```

---

## ğŸ“ ë³€ê²½ ì´ë ¥

| ë²„ì „ | ë‚ ì§œ | ë³€ê²½ ë‚´ìš© |
|------|------|-----------|
| 1.0 | 2025-12-07 | ì´ˆê¸° êµ¬í˜„ |
| 2.0 | 2025-12-15 | GPT-5 ì—…ê·¸ë ˆì´ë“œ, recipientType ê°œì„ , ì¡°ì–¸ ì„¹ì…˜ ì¶”ê°€ |

---

*ì´ ë¬¸ì„œëŠ” ìˆ˜ë¦¬ìˆ˜ë¦¬ ë³µì§€ ë¦¬í¬íŠ¸ ì‹œìŠ¤í…œì˜ ê¸°ìˆ ì  êµ¬í˜„ì„ ì„¤ëª…í•©ë‹ˆë‹¤.*
